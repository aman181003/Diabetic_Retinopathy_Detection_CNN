{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Retina AI Predict Response",
  "type": "object",
  "properties": {
    "machine_report": {
      "type": "object",
      "properties": {
        "predictions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "label": {"type":"string"},
              "score": {"type":"number"}
            },
            "required":["label","score"]
          }
        },
        "gradcam_image_url": {"type":"string"},
        "calibration": {
          "type":"object",
          "properties": {
            "method":{"type":"string"},
            "temp":{"type":"number"}
          }
        }
      },
      "required":["predictions"]
    },
    "patient": {
      "type":"object",
      "properties":{"id":{"type":"string"},"age":{"type":"number"},"notes":{"type":"string"}},
      "required":[]
    },
    "probs": {"type":"object"}
  },
  "required":["machine_report"]
}
